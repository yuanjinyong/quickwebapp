<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Quick Webapp - Web应用快速开发平台</title>
<link rel="icon" type="image/x-icon" href="weblibs/favicon.ico">
<link rel="stylesheet" href="webjars/bootstrap/3.3.6/css/bootstrap.min.css" />
<link rel="stylesheet" href="webjars/ui-grid/3.1.1/ui-grid.min.css" />
<link rel="stylesheet" href="weblibs/css/app.css" />
</head>


<body ng-app="app" ng-controller="ApplicationController">
    <div id="app" class="app-navbar-fixed app-sidebar-fixed">
        <div class="header-container" style="height: 65px; line-height: 65px;">
            <div style="display: inline; font-size: xx-large; font-weight: bold;">
                <span><img style="margin: 10px;" src="weblibs/image/logo.png"></img>Quick Webapp - Web应用快速开发平台</span>
            </div>
            <div style="display: inline; float: right; margin-right: 20px;">
                <div class="btn-group" uib-dropdown>
                    <button id="split-button" type="button" class="btn btn-sm btn-primary">{{currentLang.name}}</button>
                    <button type="button" class="btn btn-sm btn-primary" uib-dropdown-toggle>
                        <span class="caret"></span> <span class="sr-only">{{currentLang.name}}</span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                        <li role="menuitem" ng-repeat="lang in langs"><a href="" ng-click="changeLang(lang)">{{lang.name}}</a></li>
                    </ul>
                </div>
            </div>
            <div style="display: inline;" ng-if="currentUser">
                <div style="display: inline; margin-left: 20px;">
                    <div style="display: inline;; font-weight: bold; color: blue;">
                        <span>欢迎您：{{currentUser.principal.username}}</span>
                    </div>
                    <div style="display: inline; float: right; margin-right: 10px;">
                        <button class="btn btn-sm btn-primary" ng-click="logout()">
                            <span class="glyphicon glyphicon-log-out"></span> 退出
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-container">
            <div class="page-container">
                <!-- angular的视图 -->
                <div ng-view class="view-container"></div>
            </div>

            <!-- 用户登录才可见 -->
            <div class="menu-container" ng-if="currentUser">
                <div id="sidebar" class="sidebar app-aside">
                    <div class="sidebar-container perfect-scrollbar ps-container ps-active-y">
                        <nav>
                            <div class="navbar-title">
                                <span>系统菜单</span>
                            </div>
                            <!-- 采用递归方式，实现无限级菜单 -->
                            <ul class="main-navigation-menu">
                                <li ng-repeat="menu in currentUser.menu.children" ng-include="'template/menu.html'"></li>
                            </ul>
                        </nav>
                        <!--div class="ps-scrollbar-x-rail" style="left: 0px; bottom: -994px;"></div-->
                        <!--div class="ps-scrollbar-y-rail" style="top: 997px; height: 175px; right: 3px;"</div-->
                    </div>
                </div>
            </div>
        </div>


        <div class="footer-container">
            <span style="text-align: center;">© 2016-2017 袁进勇版权所有</span>
        </div>
    </div>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-route.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-resource.min.js"></script>
    <script type="text/javascript" src="webjars/angular-ui-bootstrap/1.0.3/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="webjars/ui-grid/3.1.1/ui-grid.min.js"></script>
    <script type="text/javascript" src="webjars/lodash/4.0.0/lodash.min.js"></script>
    <script type="text/javascript" src="app/app.js"></script>
    <script type="text/javascript" src="app/controller.js"></script>
    <script type="text/javascript" src="app/sys/login/controller.js"></script>
    <script type="text/javascript" src="app/sys/error/controller.js"></script>
    <script type="text/javascript" src="app/sys/url/controller.js"></script>
    <script type="text/javascript" src="app/sys/url/service.js"></script>
    <script type="text/javascript" src="app/sys/menu/controller.js"></script>
    <script type="text/javascript" src="app/sys/menu/service.js"></script>
</body>
</html>