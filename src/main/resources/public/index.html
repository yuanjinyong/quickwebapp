<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Quick Webapp - Web应用快速开发平台</title>
<script type="text/javascript">
    // 全局变量、函数和服务，避免很多地方都需要去写依赖注入
    var $qw = {};
    // 开发模式，生产环境上需要注释掉这行
    $qw.dev = true;
    $qw.dev && console.info('初始化$qw。');
</script>
<link rel="icon" type="image/x-icon" href="weblibs/favicon.ico">
<link rel="stylesheet" href="webjars/bootstrap/3.3.6/css/bootstrap.min.css" />
<link rel="stylesheet" href="webjars/ui-grid/3.1.1/ui-grid.min.css" />
<link rel="stylesheet" href="weblibs/css/app.css" />
<script type="text/javascript">
    //使用document.write这种方式异步加载js和css
</script>
</head>


<body ng-app="app" ng-controller="ApplicationController">
    <div id="app" ng-controller="MainController" class="app-navbar-fixed app-sidebar-fixed">
        <div class="header-container" style="height: 65px; line-height: 65px;">
            <div style="display: inline; font-size: xx-large; font-weight: bold;">
                <span><img style="margin: 10px;" src="weblibs/image/logo.png"></img>Quick Webapp - Web应用快速开发平台</span>
            </div>
            <div style="display: inline; float: right; margin-right: 20px;">
                <div class="btn-group" uib-dropdown>
                    <button id="split-button" type="button" class="btn btn-sm btn-primary">{{currentLang.name}}</button>
                    <button type="button" class="btn btn-sm btn-primary" uib-dropdown-toggle>
                        <span class="caret"></span> <span class="sr-only">{{currentLang.name}}</span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                        <li role="menuitem" ng-repeat="lang in langs"><a href="" ng-click="changeLang(lang)">{{lang.name}}</a></li>
                    </ul>
                </div>
            </div>
            <div style="display: inline;" ng-if="currentUser">
                <div style="display: inline; margin-left: 20px;">
                    <div style="display: inline;; font-weight: bold; color: yellowgreen;">
                        <span>欢迎您：{{currentUser.principal.username}}</span>
                    </div>
                    <div style="display: inline; float: right; margin-right: 10px;">
                        <button class="btn btn-sm btn-primary" ng-click="logout()">
                            <span class="glyphicon glyphicon-log-out"></span> 退出
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="middle-container">
            <div class="right-container">
                <div class="view-container" ng-style="getPageStyle()">
                    <!-- angular的视图 -->
                    <div ng-view></div>
                </div>
            </div>

            <!-- 用户登录才可见 -->
            <div class="left-container" ng-style="getMenuStyle()" ng-if="currentUser">
                <div class="glyphicon glyphicon-triangle-{{hideMenu ? 'right' : 'left'}}" style="float: right; padding: 10px 5px 10px 5px; font-size: 18px; font-weight: bold;" ng-click="hideMenuFn()"></div>
                <div class="qw-menu" ng-hide="hideMenu">
                    <div class="qw-menu-title">
                        <span>系统菜单</span>
                    </div>
                    <div class="qw-menu-content">
                        <!-- 采用递归方式，实现无限级菜单 -->
                        <div class="list-group">
                            <div class="list-sub-group" ng-repeat="menu in currentUser.menu.children" ng-include="'template/menu.html'"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="footer-container">
            <span style="text-align: center;">© 2016-2017 袁进勇版权所有</span>
        </div>
    </div>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-animate.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-route.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-resource.min.js"></script>
    <script type="text/javascript" src="webjars/angularjs/1.4.8/angular-cookies.min.js"></script>
    <script type="text/javascript" src="webjars/angular-ui-bootstrap/1.0.3/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="webjars/ui-grid/3.1.1/ui-grid.min.js"></script>
    <script type="text/javascript" src="webjars/lodash/4.0.0/lodash.min.js"></script>


    <script type="text/javascript">
                    //使用document.write这种方式异步加载js和css
                </script>


    <script type="text/javascript" src="app/app.js"></script>
    <script type="text/javascript" src="app/global/controller/ApplicationController.js"></script>
    <script type="text/javascript" src="app/global/controller/DialogController.js"></script>
    <script type="text/javascript" src="app/global/controller/MainController.js"></script>
    <script type="text/javascript" src="app/global/directive/grid.js"></script>
    <script type="text/javascript" src="app/global/directive/resize.js"></script>
    <script type="text/javascript" src="app/global/filter/dict.js"></script>
    <script type="text/javascript" src="app/global/service/DialogService.js"></script>
    <script type="text/javascript" src="app/global/service/GridService.js"></script>
    <script type="text/javascript" src="app/global/service/HttpService.js"></script>
    <script type="text/javascript" src="app/sys/login/controller.js"></script>
    <script type="text/javascript" src="app/sys/error/controller.js"></script>
    <script type="text/javascript" src="app/sys/url/controller.js"></script>
    <script type="text/javascript" src="app/sys/url/service.js"></script>
    <script type="text/javascript" src="app/sys/dict/controller.js"></script>
    <script type="text/javascript" src="app/sys/dict/service.js"></script>
    <script type="text/javascript" src="app/sys/menu/controller.js"></script>
    <script type="text/javascript" src="app/sys/menu/service.js"></script>
</body>
</html>